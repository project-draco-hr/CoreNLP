{
  AssignExtractorDialog aed=new AssignExtractorDialog((Frame)SwingUtilities.getRoot(this),mediator,ontology);
  if (selectedClass != null) {
    aed.setClassName(selectedClass);
  }
  if (aed.showDialog(this) == JOptionPane.OK_OPTION) {
    setSelectedClass(aed.getClassName());
    if (mediator.assignExtractorField(aed.getClassName(),aed.getSlotName(),aed.getExtractorName(),aed.getFieldName())) {
      DefaultMutableTreeNode classNode=null;
      for (int i=0; i < rootNode.getChildCount(); i++) {
        DefaultMutableTreeNode curClassNode=(DefaultMutableTreeNode)rootNode.getChildAt(i);
        if (aed.getClassName().equals(curClassNode.getUserObject())) {
          classNode=curClassNode;
          break;
        }
      }
      if (classNode == null) {
        classNode=new DefaultMutableTreeNode(aed.getClassName());
        treeModel.insertNodeInto(classNode,rootNode,rootNode.getChildCount());
      }
      DefaultMutableTreeNode slotNode=createSlotNode(aed.getSlotName(),aed.getExtractorName(),aed.getFieldName());
      treeModel.insertNodeInto(slotNode,classNode,classNode.getChildCount());
      assignmentTree.setSelectionPath(new TreePath(slotNode.getPath()));
      setStatus("Assigned extractor field " + aed.getExtractorName() + "."+ aed.getFieldName()+ " to "+ aed.getClassName()+ "."+ aed.getSlotName());
      setChanged(true);
    }
 else {
      JOptionPane.showMessageDialog(this,"An error occurred while trying to assign extractor","Error assigning extractor",JOptionPane.ERROR_MESSAGE);
      setStatus("Error assigning extractor");
    }
  }
}
