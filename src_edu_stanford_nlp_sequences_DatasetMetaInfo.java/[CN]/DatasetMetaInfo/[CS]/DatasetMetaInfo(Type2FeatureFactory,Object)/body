{
  this.featureFactory=featureFactory;
  featureFactory.setDatasetMetaInfo(this);
  labelIndex.add(backgroundLabel);
  backgroundIndex=labelIndex.indexOf(backgroundLabel);
  if (featureFactory instanceof FeatureFactoryWrapper && !featureFactory.flags.useObservedFeaturesOnly && featureFactory.flags.featureCountThreshold <= 0 && featureFactory.flags.randomizedRatio >= 1.0 && featureFactory.flags.featureWeightThreshold <= 0.0 && featureFactory.flags.removeTopN <= 0 && featureFactory.flags.removeTopNPercent <= 0.0 && !featureFactory.flags.useSeenFeaturesOnly && false) {
    System.err.println("OldStyleFeatureIndex");
    featureIndex=getOldStyleFeatureIndex();
  }
 else {
    featureIndex=new HashIndex();
  }
  maxClique=featureFactory.getMaxClique();
}
