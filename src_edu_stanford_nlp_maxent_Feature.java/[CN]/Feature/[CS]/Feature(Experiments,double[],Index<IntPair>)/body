{
  this.instanceIndex=instanceIndex;
  Map<Integer,Double> setNonZeros=Generics.newHashMap();
  for (int i=0; i < vals.length; i++) {
    if (vals[i] != 0.0) {
      Integer in=Integer.valueOf(indexOf(e.get(i)[0],e.get(i)[1]));
      Object val=setNonZeros.get(in);
      if (val == null) {
        setNonZeros.put(in,new Double(vals[i]));
      }
 else       if (((Double)val).doubleValue() != vals[i]) {
        System.out.println(" Incorrect function specification");
        System.out.println(" Has two values for one point ");
        System.exit(1);
      }
    }
  }
  Object[] keys=setNonZeros.keySet().toArray();
  indexedValues=new int[keys.length];
  valuesI=new double[keys.length];
  for (int j=0; j < keys.length; j++) {
    indexedValues[j]=((Integer)keys[j]).intValue();
    valuesI[j]=setNonZeros.get(keys[j]).doubleValue();
  }
  domain=e;
}
