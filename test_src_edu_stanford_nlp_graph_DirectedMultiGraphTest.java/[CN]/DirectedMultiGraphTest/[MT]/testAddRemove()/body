{
  DirectedMultiGraph<Integer,String> g=new DirectedMultiGraph<Integer,String>();
  g.addVertex(1);
  g.addVertex(2);
  g.add(1,2,"foo");
  g.add(1,2,"bar");
  g.addVertex(3);
  g.add(1,3,"bar");
  g.add(2,3,"foo");
  g.add(2,3,"baz");
  g.add(2,4,"baz");
  assertEquals(4,g.getNumVertices());
  assertEquals(6,g.getNumEdges());
  assertTrue(g.isEdge(2,3));
  g.removeEdges(2,3);
  assertFalse(g.isEdge(2,3));
  assertEquals(4,g.getNumVertices());
  assertEquals(4,g.getNumEdges());
  assertTrue(g.isEdge(1,2));
  g.removeEdge(1,2,"foo");
  assertTrue(g.isEdge(1,2));
  assertEquals(4,g.getNumVertices());
  assertEquals(3,g.getNumEdges());
  g.removeEdge(1,2,"bar");
  assertFalse(g.isEdge(1,2));
  assertEquals(4,g.getNumVertices());
  assertEquals(2,g.getNumEdges());
  assertFalse(g.removeEdge(3,1,"bar"));
  assertEquals(4,g.getNumVertices());
  assertEquals(2,g.getNumEdges());
  assertTrue(g.removeEdge(1,3,"bar"));
  assertEquals(4,g.getNumVertices());
  assertEquals(1,g.getNumEdges());
  assertFalse(g.removeEdge(2,4,"arg"));
  assertTrue(g.removeEdge(2,4,"baz"));
  assertEquals(4,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  assertFalse(g.removeVertex(5));
  assertEquals(4,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  assertTrue(g.removeVertex(4));
  assertEquals(3,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  assertFalse(g.removeVertex(4));
  assertEquals(3,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  List<Integer> vertices=Arrays.asList(3,4);
  assertTrue(g.removeVertices(vertices));
  assertEquals(2,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  assertFalse(g.removeVertices(vertices));
  assertEquals(2,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  g.clear();
  assertEquals(0,g.getNumVertices());
  assertEquals(0,g.getNumEdges());
  g.addVertex(1);
  g.addVertex(2);
  g.add(1,2,"foo");
  g.add(1,2,"bar");
  g.addVertex(3);
  g.add(1,3,"bar");
  g.add(2,3,"foo");
  g.add(2,3,"baz");
  g.add(2,4,"baz");
  assertEquals(4,g.getNumVertices());
  assertEquals(6,g.getNumEdges());
  assertTrue(g.removeVertices(vertices));
  assertEquals(2,g.getNumVertices());
  assertEquals(2,g.getNumEdges());
}
