{
  tags.read(fileTags);
  cMatrix=new int[tags.getSize()][tags.getSize()];
  sums=new int[tags.getSize()];
  try {
    BufferedReader inF=new BufferedReader(new FileReader(fileoutput));
    for (String sent; (sent=inF.readLine()) != null; ) {
      StringTokenizer st=new StringTokenizer(sent);
      String lastTag=".";
      boolean lastWrong=true;
      while (st.hasMoreElements()) {
        String wordTag=st.nextToken();
        if (wordTag.startsWith("|")) {
          lastWrong=true;
          String tag=wordTag.substring(1);
          int correct=tags.getIndex(tag);
          int wrong=tags.getIndex(lastTag);
          if ((correct == -1) || (wrong == -1)) {
            System.out.println(tag + " " + lastTag);
            lastTag=tag;
            continue;
          }
          cMatrix[correct][wrong]++;
          sums[correct]++;
          lastTag=tag;
        }
 else {
          try {
            if (!lastWrong) {
              int corr1=tags.getIndex(lastTag);
              cMatrix[corr1][corr1]++;
              sums[corr1]++;
            }
            lastTag=wordTag.substring(wordTag.lastIndexOf('\\') + 1);
            lastWrong=false;
          }
 catch (          Exception e) {
          }
        }
      }
    }
    inF.close();
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
