{
  EntityMention team=null;
  EntityMention score=null;
  for (int i=0; i < rel.getArgs().size(); i++) {
    ExtractionObject arg=rel.getArgs().get(i);
    if (arg.getType().equals("NFLTeam") && arg instanceof EntityMention) {
      team=(EntityMention)arg;
    }
    if (arg.getType().equals("FinalScore") && arg instanceof EntityMention) {
      score=(EntityMention)arg;
    }
  }
  String teamPosFeature=null;
  String scorePosFeature=null;
  for (  EntityMention otherarg : rel.getSentence().get(MachineReadingAnnotations.EntityMentionsAnnotation.class)) {
    if (otherarg.getType().equals("NFLTeam") && team != null && otherarg.getSyntacticHeadTokenPosition() != team.getSyntacticHeadTokenPosition()) {
      teamPosFeature=(otherarg.getSyntacticHeadTokenPosition() < team.getSyntacticHeadTokenPosition()) ? "not_first_team" : "not_last_team";
    }
    if (otherarg.getType().equals("FinalScore") && score != null && otherarg.getSyntacticHeadTokenPosition() != score.getSyntacticHeadTokenPosition()) {
      scorePosFeature=(otherarg.getSyntacticHeadTokenPosition() < score.getSyntacticHeadTokenPosition()) ? "not_first_score" : "not_last_score";
    }
  }
  if (types.contains("entity_order_teams_scores")) {
    if (teamPosFeature != null) {
      features.incrementCount(teamPosFeature,1.0);
    }
    if (scorePosFeature != null) {
      features.incrementCount(scorePosFeature,1.0);
    }
    if (teamPosFeature != null && scorePosFeature != null && ((teamPosFeature.equals("not_first_team") && scorePosFeature.equals("not_first_score")) || (teamPosFeature.equals("not_last_team") && scorePosFeature.equals("not_last_score")))) {
      features.incrementCount("team_and_score_positions_match",1.0);
    }
  }
  if (types.contains("entity_order_teams_scores_negative")) {
    if ((teamPosFeature != null && scorePosFeature != null) && ((teamPosFeature.equals("not_first_team") && scorePosFeature.equals("not_last_score")) || (teamPosFeature.equals("not_last_team") && scorePosFeature.equals("not_first_score")))) {
      features.incrementCount("team_and_score_positions_match",-1.0);
    }
  }
  super.addFeatures(features,rel,types);
  return true;
}
