{
  String paramFile=null;
  String dirName=null;
  String ffPattern=null;
  for (int i=0; i < args.length; i++) {
    if (args[i].equalsIgnoreCase("use_day_of_week")) {
      USE_DAY_OF_WEEK=true;
    }
 else     if (args[i].equalsIgnoreCase("no_range")) {
      USE_RANGE=false;
    }
 else     if (args[i].equalsIgnoreCase("no_month")) {
      USE_MONTH=false;
    }
 else     if (args[i].equalsIgnoreCase("-p")) {
      paramFile=args[++i];
    }
 else     if (args[i].equalsIgnoreCase("-d")) {
      dirName=args[++i];
    }
 else     if (args[i].equalsIgnoreCase("-ff")) {
      ffPattern=args[++i];
    }
 else     if (args[i].equalsIgnoreCase("-fo")) {
      FORCE_ORDERING=true;
    }
 else     if (args[i].equalsIgnoreCase("-fso")) {
      FORCE_ORDERING=FORCE_STRICT_ORDERING=true;
    }
 else     if (args[i].equalsIgnoreCase("use_num_occurrences")) {
      USE_NUM_OCCURRENCES=true;
    }
  }
  readParams(paramFile);
  File dir=new File(dirName);
  Pattern pattern=Pattern.compile(ffPattern);
  FilenameFilter ff=new DateFileFilter(pattern);
  File[] files=dir.listFiles(ff);
  for (  File f : files) {
    System.out.print(f.getName() + "\t");
    Set<DateRangePair> allDates=getDates(f);
    List<DateRangePair> best=getBest(allDates);
    System.out.print(best.get(0) + "\t");
    System.out.print(best.get(1) + "\t");
    System.out.print(best.get(2) + "\t");
    System.out.println(best.get(3) + "\t");
  }
}
