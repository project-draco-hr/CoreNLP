{
  String origText=annotation.get(TextAnnotation.class);
  boolean seg=true;
  List<CoreLabel> words=new ArrayList<CoreLabel>();
  for (int i=0; i < origText.length(); i++) {
    CoreLabel wi=new CoreLabel();
    char[] ca={origText.charAt(i)};
    String wordString=new String(ca);
    if (Character.isWhitespace(origText.charAt(i)) || Character.isISOControl(origText.charAt(i))) {
      seg=true;
      continue;
    }
 else {
      wi.set(ChineseCharAnnotation.class,wordString);
      if (seg) {
        wi.set(ChineseSegAnnotation.class,"1");
      }
 else {
        wi.set(ChineseSegAnnotation.class,"0");
      }
      wi.set(CharacterOffsetBeginAnnotation.class,i);
      wi.set(CharacterOffsetEndAnnotation.class,(i + 1));
      words.add(wi);
      seg=false;
    }
  }
  annotation.set(CharactersAnnotation.class,words);
  if (VERBOSE) {
    System.err.println("output: " + words);
  }
}
