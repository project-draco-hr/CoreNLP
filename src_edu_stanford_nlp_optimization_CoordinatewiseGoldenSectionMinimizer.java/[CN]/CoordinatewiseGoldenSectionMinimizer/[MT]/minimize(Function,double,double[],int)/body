{
  double[] current=new double[initial.length];
  System.arraycopy(initial,0,current,0,initial.length);
  boolean changed=true;
  int iteration=0;
  boolean have_max=(maxIterations > 0);
  while (changed && (iteration++ <= maxIterations || !have_max)) {
    changed=false;
    for (int i=0; i < function.domainDimension(); i++) {
      System.out.print(i + ": ");
      double oldX=current[i];
      lineSearch(function,current,i,functionTolerance);
      if (oldX != current[i]) {
        changed=true;
        System.out.println("changed from " + oldX + " to "+ current[i]);
      }
 else {
        System.out.println("didn't change");
      }
    }
    System.out.print("current point: ");
    for (int i=0; i < current.length; i++) {
      System.out.print(current[i] + "\t");
    }
    System.out.println();
  }
  return current;
}
