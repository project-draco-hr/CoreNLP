{
  checkClassifier();
  Pair<GeneralDataset<String,String>,List<String[]>> test=readDataset(datasetPath,true);
  GeneralDataset<String,String> testDataset=test.first();
  List<String[]> inputFields=test.second();
  IntCounter<String> contingency=new IntCounter<String>();
  int i=0;
  for (  Datum<String,String> datum : testDataset) {
    Counter<String> logScores=classifier.scoresOf(datum);
    String guess=classifier.classOf(datum);
    String gold=datum.label();
    for (    String next : classifier.labels()) {
      if (next.equals(gold)) {
        if (next.equals(guess))         contingency.incrementCount(next + "|TP");
 else         contingency.incrementCount(next + "|FN");
      }
 else {
        if (next.equals(guess))         contingency.incrementCount(next + "|FP");
 else         contingency.incrementCount(next + "|TN");
      }
    }
    Distribution<String> scoreDist=Distribution.distributionFromLogisticCounter(logScores);
    outputTestExample(inputFields.get(i),datum,guess,logScores,scoreDist);
    i++;
  }
  outputTestSummary(classifier.labels(),testDataset,contingency);
}
