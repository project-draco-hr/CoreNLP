{
  for (int c=1; c <= numCategories; c++) {
    Map<Object,Integer> examplesByIndex=new HashMap<Object,Integer>();
    int i=0;
    for (Iterator iter=heldOutExamples[c].iterator(); iter.hasNext(); ) {
      Object example=iter.next();
      Integer index=examplesByIndex.get(example);
      if (index == null) {
        examplesByIndex.put(example,Integer.valueOf(i++));
      }
 else {
        Double oldWeight=heldOutWeights[c].get(index.intValue());
        Double curWeight=heldOutWeights[c].get(i);
        Double combinedWeight=new Double(oldWeight.doubleValue() + curWeight.doubleValue());
        heldOutWeights[c].set(index.intValue(),combinedWeight);
        heldOutWeights[c].remove(i);
        iter.remove();
      }
    }
  }
}
