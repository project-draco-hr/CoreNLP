{
  Counter<F> featureWeights=new ClassicCounter<F>();
  Counter<F> datumCounter=datum.asFeaturesCounter();
  for (  F feature : datumCounter.keySet()) {
    int fID=featureIndex.indexOf(feature);
    if (fID >= 0) {
      double weight=weights[fID] * datumCounter.getCount(feature);
      featureWeights.incrementCount(feature,weight);
    }
  }
  return featureWeights;
}
