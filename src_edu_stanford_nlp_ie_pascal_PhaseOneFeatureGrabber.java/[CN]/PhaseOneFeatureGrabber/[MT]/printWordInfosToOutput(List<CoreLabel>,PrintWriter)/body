{
  if (DEBUG)   System.err.println("printing word infos to output");
  boolean inDate=false;
  String currentAnswer="#$%#$";
  CoreLabel last=null;
  String lastNonBackground=BACKGROUND;
  for (Iterator<CoreLabel> iter=outputArray.iterator(); iter.hasNext(); ) {
    CoreLabel w=iter.next();
    if (COLLAPSE_DATES) {
      if ((w.get(EntityTypeAnnotation.class)).equalsIgnoreCase("Date")) {
        if (inDate) {
          String thisTag=w.get(AnswerAnnotation.class);
          if (!thisTag.equals(currentAnswer)) {
            currentAnswer=thisTag;
          }
          last=w;
        }
 else {
          inDate=true;
          currentAnswer=w.get(AnswerAnnotation.class);
          lastNonBackground=w.get(LastTaggedAnnotation.class);
          last=w;
        }
      }
 else {
        if (inDate) {
          output.println(last.get(NormalizedNamedEntityTagAnnotation.class) + " " + "collapsed_date null Date null "+ last.get(EntityRuleAnnotation.class)+ " "+ last.get(NormalizedNamedEntityTagAnnotation.class)+ " "+ currentAnswer+ " "+ lastNonBackground);
        }
        inDate=false;
        output.println(w.get(TextAnnotation.class) + " " + w.get(PartOfSpeechAnnotation.class)+ " "+ w.get(ShapeAnnotation.class)+ " "+ w.get(EntityTypeAnnotation.class)+ " "+ w.get(IsURLAnnotation.class)+ " "+ w.get(EntityRuleAnnotation.class)+ " "+ w.get(NormalizedNamedEntityTagAnnotation.class)+ " "+ w.get(AnswerAnnotation.class)+ " "+ w.get(LastTaggedAnnotation.class));
      }
    }
 else {
      output.println(w.get(TextAnnotation.class) + " " + w.get(PartOfSpeechAnnotation.class)+ " "+ w.get(ShapeAnnotation.class)+ " "+ w.get(EntityTypeAnnotation.class)+ " "+ w.get(IsURLAnnotation.class)+ " "+ w.get(EntityRuleAnnotation.class)+ " "+ w.get(NormalizedNamedEntityTagAnnotation.class)+ " "+ w.get(AnswerAnnotation.class)+ " "+ w.get(LastTaggedAnnotation.class));
    }
  }
}
