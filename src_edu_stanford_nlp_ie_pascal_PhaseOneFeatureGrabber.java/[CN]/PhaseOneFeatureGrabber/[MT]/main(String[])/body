{
  SAXParserFactory xmlParserFactory=SAXParserFactory.newInstance();
  SAXParser xmlParser=xmlParserFactory.newSAXParser();
  PhaseOneFeatureGrabber fs=new PhaseOneFeatureGrabber(new PrintWriter(System.out));
  String outPrefix=null;
  int startingIndex=0;
  if (args[0].equalsIgnoreCase("-outPrefix")) {
    outPrefix=args[1];
    startingIndex=2;
  }
  for (int a=startingIndex; a < args.length; ++a) {
    System.err.println("Processing file " + a + ": "+ args[a]);
    File infile=new File(args[a]);
    PrintWriter output=null;
    if (outPrefix != null) {
      output=new PrintWriter(new FileWriter(args[a] + "." + outPrefix));
      fs.setOutput(output);
    }
    try {
      xmlParser.parse(infile,fs);
      System.out.println();
    }
 catch (    Exception e) {
      System.err.println("exception caught in file:" + args[a]);
      throw e;
    }
    if (outPrefix != null) {
      output.close();
    }
  }
}
