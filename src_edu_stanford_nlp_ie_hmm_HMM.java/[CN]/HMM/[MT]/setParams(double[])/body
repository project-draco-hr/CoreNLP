{
  int numStates=states.length;
  int index=0;
  for (int i=0; i < numStates; i++) {
    State s=states[i];
    for (int j=0; j < numStates; j++) {
      s.transition[j]=x[index++];
    }
    if (i != State.STARTIDX && i != State.FINISHIDX && !(s.emit instanceof ConstantEmitMap)) {
      for (Iterator iter=vocab.keySet().iterator(); iter.hasNext(); ) {
        s.emit.set((String)iter.next(),x[index++]);
      }
    }
  }
}
