{
  List<String> list=new ArrayList<String>();
  list.add("A");
  list.add("B");
  list.add("A");
  list.add("C");
  HashIndex<String> index=new HashIndex<String>(list);
  assertEquals(3,index.size());
  assertTrue(index.contains("A"));
  assertEquals(0,index.indexOf("A"));
  assertEquals(1,index.indexOf("B"));
  assertEquals(2,index.indexOf("C"));
  assertEquals("A",index.get(0));
  index=index.unmodifiableView();
  assertEquals(3,index.size());
  assertTrue(index.contains("A"));
  assertEquals(0,index.indexOf("A"));
  assertEquals(1,index.indexOf("B"));
  assertEquals(2,index.indexOf("C"));
  assertEquals("A",index.get(0));
  assertEquals(-1,index.indexOf("D",true));
}
