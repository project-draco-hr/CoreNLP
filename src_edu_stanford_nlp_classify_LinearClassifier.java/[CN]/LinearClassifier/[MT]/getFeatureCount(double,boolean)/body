{
  int n=0;
  for (int feat=0; feat < weights.length; feat++) {
    for (int lab=0; lab < weights[feat].length; lab++) {
      double thisWeight=(useMagnitude) ? Math.abs(weights[feat][lab]) : weights[feat][lab];
      if (thisWeight > threshold) {
        n++;
      }
    }
  }
  return n;
}
