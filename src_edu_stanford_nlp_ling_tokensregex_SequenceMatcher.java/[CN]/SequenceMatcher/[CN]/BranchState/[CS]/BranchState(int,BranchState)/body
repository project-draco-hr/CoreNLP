{
  this.bid=bid;
  this.parent=parent;
  if (parent != null) {
    if (parent.matchedGroups != null) {
      matchedGroups=new LinkedHashMap<Integer,MatchedGroup>(parent.matchedGroups);
    }
    if (parent.matchedResults != null) {
      matchedResults=new LinkedHashMap<Integer,Object>(parent.matchedResults);
    }
    if (parent.matchStateInfo != null) {
      matchStateInfo=new LinkedHashMap<SequencePattern.State,Object>(parent.matchStateInfo);
    }
    if (parent.bidsToCollapse != null) {
      bidsToCollapse=new ArraySet<Integer>(parent.bidsToCollapse.size());
      bidsToCollapse.addAll(parent.bidsToCollapse);
    }
    if (parent.collapsedBids != null) {
      collapsedBids=new ArraySet<Integer>(parent.collapsedBids.size());
      collapsedBids.addAll(parent.collapsedBids);
    }
  }
}
