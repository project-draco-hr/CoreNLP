{
  if (!hamledtWord.word().equals(ancoraWord.word()))   throw new RuntimeException(String.format("Treebank line mismatch: HamleDT '%s' does not match AnCora line's '%s'",hamledtWord.word(),ancoraWord.word()));
  String depRel=correctDepRel(hamledtWord,ancoraWord);
  hamledtWord.set(CoreAnnotations.CoNLLDepTypeAnnotation.class,depRel);
  int hParent=hamledtWord.get(CoreAnnotations.CoNLLDepParentIndexAnnotation.class);
  int aParent=ancoraWord.get(CoreAnnotations.CoNLLDepParentIndexAnnotation.class);
  if (hamledtWord.tag().equals("CONJ") && hParent == 0 && aParent != 0) {
    CoreLabel aParentLabel=hamledtSentence.get(aParent - 1);
    int newParent=(aParentLabel.get(CoreAnnotations.CoNLLDepTypeAnnotation.class).equals("cop")) ? aParentLabel.get(CoreAnnotations.CoNLLDepParentIndexAnnotation.class) : aParent;
    hamledtWord.set(CoreAnnotations.CoNLLDepParentIndexAnnotation.class,newParent);
    hamledtWord.set(CoreAnnotations.CoNLLDepTypeAnnotation.class,"cc");
  }
  return hamledtWord;
}
