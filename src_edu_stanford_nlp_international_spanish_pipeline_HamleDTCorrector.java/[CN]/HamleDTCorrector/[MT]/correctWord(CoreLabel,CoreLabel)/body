{
  if (!hamledtWord.word().equals(ancoraWord.word()))   throw new RuntimeException(String.format("Treebank line mismatch: HamleDT '%s' does not match AnCora line's '%s'",hamledtWord.word(),ancoraWord.word()));
  String depRel=correctDepRel(hamledtWord,ancoraWord);
  hamledtWord.set(CoreAnnotations.CoNLLDepTypeAnnotation.class,depRel);
  int hParent=hamledtWord.get(CoreAnnotations.CoNLLDepParentIndexAnnotation.class);
  int aParent=ancoraWord.get(CoreAnnotations.CoNLLDepParentIndexAnnotation.class);
  if (hParent == 0 && aParent != 0)   hamledtWord.set(CoreAnnotations.CoNLLDepParentIndexAnnotation.class,aParent);
  return hamledtWord;
}
