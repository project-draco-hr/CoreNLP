{
  int numCorrect=0;
  for (Iterator<InstanceMarking> iter=guesses.iterator(); iter.hasNext(); ) {
    InstanceMarking m=iter.next();
    Instance ins=m.getInstance();
    if (ins.sense[0] != Instance.UNASSIGNED) {
      String guess=m.getSense();
      if (senseGranularity == 2) {
        guess=senseMap.get(guess);
      }
      boolean correct=false;
      for (int i=0; i < ins.sense.length; i++) {
        String answer=ins.sense[i];
        if (senseGranularity == 2) {
          answer=senseMap.get(answer);
        }
        if (guess.equals(answer)) {
          correct=true;
          numCorrect++;
          break;
        }
      }
      if (basicRightAndJointWrong != null && basicWrongAndJointRight != null) {
        if (model instanceof JointModel) {
          if (correct) {
            basicRightAndJointWrong.remove(m);
          }
 else {
            basicWrongAndJointRight.remove(m);
          }
        }
 else {
          if (correct) {
            basicRightAndJointWrong.add(m);
          }
 else {
            basicWrongAndJointRight.add(m);
          }
        }
      }
      if (verbose) {
        System.out.println("correct sense(s): " + ins.sense + ":"+ guess+ (correct ? "  CORRECT" : "  INCORRECT"));
        String just=m.getSenseJustification();
        if (just != null) {
          System.out.println(just);
        }
      }
    }
 else {
      throw new RuntimeException("Error: unmarked instance.");
    }
  }
  return numCorrect;
}
