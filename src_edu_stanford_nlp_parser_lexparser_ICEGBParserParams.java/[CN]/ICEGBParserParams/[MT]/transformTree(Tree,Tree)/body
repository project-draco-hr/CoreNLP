{
  Tree parent;
  Tree grandParent;
  String parentStr;
  String grandParentStr;
  if (root == null || t.equals(root)) {
    parent=null;
    parentStr="";
  }
 else {
    parent=t.parent(root);
    parentStr=parent.label().value();
  }
  if (parent == null || parent.equals(root)) {
    grandParent=null;
    grandParentStr="";
  }
 else {
    grandParent=parent.parent(root);
    grandParentStr=grandParent.label().value();
  }
  String baseParentStr=tlp.basicCategory(parentStr);
  String baseGrandParentStr=tlp.basicCategory(grandParentStr);
  if (t.isLeaf()) {
    return t;
  }
  CategoryWordTag lab=(CategoryWordTag)t.label();
  String word=lab.word();
  String tag=lab.tag();
  String baseTag=tlp.basicCategory(tag);
  String cat=lab.value();
  String baseCat=tlp.basicCategory(cat);
  if (t.isPreTerminal()) {
  }
 else {
  }
  Label label=new CategoryWordTag(cat,word,tag);
  t.setLabel(label);
  return t;
}
