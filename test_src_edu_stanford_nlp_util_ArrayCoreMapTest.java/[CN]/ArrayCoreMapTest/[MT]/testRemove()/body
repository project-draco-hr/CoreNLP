{
  ArrayCoreMap foo=new ArrayCoreMap();
  foo.set(TextAnnotation.class,"foo");
  foo.set(PartOfSpeechAnnotation.class,"F");
  assertEquals("foo",foo.get(TextAnnotation.class));
  assertEquals("F",foo.get(PartOfSpeechAnnotation.class));
  assertEquals(2,foo.size());
  foo.remove(TextAnnotation.class);
  assertEquals(1,foo.size());
  assertEquals(null,foo.get(TextAnnotation.class));
  assertEquals("F",foo.get(PartOfSpeechAnnotation.class));
  foo.set(TextAnnotation.class,"bar");
  assertEquals("bar",foo.get(TextAnnotation.class));
  assertEquals("F",foo.get(PartOfSpeechAnnotation.class));
  assertEquals(2,foo.size());
  foo.remove(TextAnnotation.class);
  assertEquals(1,foo.size());
  assertEquals(null,foo.get(TextAnnotation.class));
  assertEquals("F",foo.get(PartOfSpeechAnnotation.class));
  foo.remove(PartOfSpeechAnnotation.class);
  assertEquals(0,foo.size());
  assertEquals(null,foo.get(TextAnnotation.class));
  assertEquals(null,foo.get(PartOfSpeechAnnotation.class));
  foo.remove(PartOfSpeechAnnotation.class);
  assertEquals(0,foo.size());
  assertEquals(null,foo.get(TextAnnotation.class));
  assertEquals(null,foo.get(PartOfSpeechAnnotation.class));
  ArrayCoreMap bar=new ArrayCoreMap();
  assertEquals(foo,bar);
  foo.set(TextAnnotation.class,"foo");
  foo.set(PartOfSpeechAnnotation.class,"F");
  bar.set(TextAnnotation.class,"foo");
  assertFalse(foo.equals(bar));
  foo.remove(PartOfSpeechAnnotation.class);
  assertEquals(foo,bar);
  assertEquals(1,foo.size());
  foo.remove(PartOfSpeechAnnotation.class);
  assertEquals(1,foo.size());
  assertEquals("foo",foo.get(TextAnnotation.class));
  assertEquals(null,foo.get(PartOfSpeechAnnotation.class));
}
