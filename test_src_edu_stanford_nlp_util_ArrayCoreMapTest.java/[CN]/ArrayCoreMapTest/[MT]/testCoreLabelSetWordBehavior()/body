{
  CoreLabel foo=new CoreLabel();
  foo.set(CoreAnnotations.TextAnnotation.class,"foo");
  foo.set(CoreAnnotations.PartOfSpeechAnnotation.class,"B");
  foo.set(CoreAnnotations.LemmaAnnotation.class,"fool");
  ArrayCoreMap copy=new ArrayCoreMap(foo);
  assertEquals(copy,foo);
  foo.setWord("foo");
  assertEquals(copy,foo);
  foo.setWord("bar");
  assertFalse(copy.equals(foo));
  foo.setWord("foo");
  assertFalse(copy.equals(foo));
  foo.set(CoreAnnotations.LemmaAnnotation.class,"fool");
  assertEquals(copy,foo);
  int hashCode=foo.hashCode();
  assertEquals(copy.hashCode(),hashCode);
  foo.setWord("bar");
  assertFalse(hashCode == foo.hashCode());
  foo.setWord("foo");
  assertFalse(hashCode == foo.hashCode());
  assertTrue(foo.lemma() == null);
  int lemmalessHashCode=foo.hashCode();
  foo.remove(CoreAnnotations.LemmaAnnotation.class);
  assertEquals(lemmalessHashCode,foo.hashCode());
  foo.setLemma(null);
  assertEquals(lemmalessHashCode,foo.hashCode());
  foo.setLemma("fool");
  assertEquals(hashCode,foo.hashCode());
  foo.setWord("bar");
  foo.setWord("foo");
  ArrayCoreMap nulledCopy=new ArrayCoreMap(foo);
  assertEquals(nulledCopy,foo);
  foo.remove(CoreAnnotations.LemmaAnnotation.class);
  assertEquals(nulledCopy,foo);
}
