{
  for (int i=0; i < labels.size(); i++) {
    CoreLabel w=labels.get(i);
    String word=w.word();
    Matcher m=xmlStartTag.matcher(word);
    if (m.matches()) {
      String element=m.group(1);
      boolean foundClose=false;
      int j;
      for (j=i + 1; j < labels.size(); j++) {
        CoreLabel v=labels.get(j);
        String vWord=v.word();
        Matcher mv=xmlEndTag.matcher(vWord);
        if (mv.matches()) {
          String vElement=mv.group(1);
          if (element.equals(vElement)) {
            foundClose=true;
            break;
          }
        }
      }
      if (!foundClose) {
        if (VERBOSE) {
          System.err.println("XML tag with missing close: " + word);
        }
      }
 else {
        labels.remove(j);
        labels.remove(i);
        for (int k=i; k < j - 1; k++) {
          CoreLabel u=labels.get(k);
          u.set(XmlElementAnnotation.class,element);
        }
      }
    }
  }
  List<CoreLabel> s=new ArrayList<CoreLabel>();
  for (  CoreLabel cl : labels) {
    s.add(cl);
  }
  return s;
}
