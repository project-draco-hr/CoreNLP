{
  for (  K1 key1 : new HashSet<K1>(map.keySet())) {
    IntCounter<K2> c=map.get(key1);
    for (    K2 key2 : new HashSet<K2>(c.keySet())) {
      if (c.getIntCount(key2) == 0) {
        c.remove(key2);
      }
    }
    if (c.keySet().isEmpty()) {
      map.remove(key1);
    }
  }
}
