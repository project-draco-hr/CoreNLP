{
  if (value == null) {
    throw new IllegalArgumentException("WeakCache does not support null" + "values");
  }
  SoftReference<V> valRef=map.put(key,new SoftReference<V>(value));
  return valRef == null ? null : valRef.get();
}
