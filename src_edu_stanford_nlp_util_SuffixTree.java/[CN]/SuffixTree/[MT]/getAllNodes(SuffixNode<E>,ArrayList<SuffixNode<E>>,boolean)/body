{
  if (list == null)   list=new ArrayList<SuffixNode<E>>();
  if (!leavesOnly || root.isTerminal())   list.add(root);
  if (!root.isTerminal()) {
    for (    SuffixNode<E> eSuffixNode : root.children.values()) {
      list=getAllNodes(eSuffixNode,list,leavesOnly);
    }
  }
  return list;
}
