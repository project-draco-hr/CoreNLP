{
  String label=tree.label().toString();
  if (label == null) {
    unmarkTree(tree.children()[0]);
  }
 else {
    int underScore=label.indexOf('_');
    if (underScore >= 0) {
      tree.setLabel(new StringLabel(label.substring(0,underScore)));
      if (!tree.isPreTerminal()) {
        Tree[] kids=tree.children();
        for (int i=0; i < kids.length; i++) {
          unmarkTree(kids[i]);
        }
      }
    }
  }
}
