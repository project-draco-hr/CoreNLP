{
  if (tree.children() == null || tree.children().length == 0 || tree.children()[0] == null) {
    return tree;
  }
  TgrepMatcher.addParents(tree);
  Map<Tree,Subcategory> markedVerbs=new HashMap<Tree,Subcategory>();
  markVerbs(tree,markedVerbs);
  Subcategory subcat;
  for (Iterator<Tree> treeI=markedVerbs.keySet().iterator(); treeI.hasNext(); ) {
    Tree tempTree=treeI.next();
    subcat=markedVerbs.get(tempTree);
    while (tempTree != tree) {
      tempTree=tempTree.parent(tree);
      tempTree.setLabel(new StringLabel(tempTree.label().toString() + "_" + subcat.index()));
    }
  }
  return tree;
}
