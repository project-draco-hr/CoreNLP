{
  int[] newFeatureArray=new int[origFeatureArray.length];
  if (fastMap != null) {
    int lci=lcIndex.indexOf(lc);
    for (int i=0; i < origFeatureArray.length; i++) {
      newFeatureArray[i]=fastMap[origFeatureArray[i]][lci];
    }
  }
 else {
    for (int i=0; i < origFeatureArray.length; i++) {
      Integer j=slowMap.get(origFeatureArray[i]).get(lc);
      if (j == null) {
        throw new RuntimeException("could not find feature!");
      }
      newFeatureArray[i]=j;
    }
  }
  return newFeatureArray;
}
