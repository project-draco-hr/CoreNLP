{
  super(title);
  if (max > 0) {
    this.max=max;
  }
 else {
    this.max=100;
  }
  JPanel progressPanel=new JPanel();
  progressPanel.setLayout(new BoxLayout(progressPanel,BoxLayout.Y_AXIS));
  progressPanel.setBorder(BorderFactory.createEmptyBorder(8,8,8,8));
  JLabel splashLabel=new JLabel(new ImageIcon(filename));
  splashLabel.setAlignmentX(CENTER_ALIGNMENT);
  progressLabel=new JLabel(status + " ...");
  progressLabel.setAlignmentX(CENTER_ALIGNMENT);
  progressBar=new JProgressBar(0,this.max);
  progressLabel.setLabelFor(progressBar);
  progressBar.setAlignmentX(CENTER_ALIGNMENT);
  progressPanel.add(splashLabel);
  progressPanel.add(Box.createVerticalStrut(12));
  progressPanel.add(progressLabel);
  progressPanel.add(Box.createVerticalStrut(12));
  progressPanel.add(progressBar);
  progressPanel.add(Box.createVerticalStrut(8));
  getContentPane().add(progressPanel);
  addWindowListener(new MyWindowListener(this));
  pack();
  Dimension screenSize=Toolkit.getDefaultToolkit().getScreenSize();
  Dimension frameSize=getPreferredSize();
  setBounds((screenSize.width - frameSize.width) / 2,(screenSize.height - frameSize.height) / 2,frameSize.width,frameSize.height);
  setVisible(true);
  if (max < 0) {
    setAutoPilot(-max);
  }
}
