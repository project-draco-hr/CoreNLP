{
  Collection<List<CoreLabel>> allData=new ArrayList();
  for (  Map.Entry<String,ObjectBank<List<CoreLabel>>> entry : trainingData.entrySet()) {
    String domainName=entry.getKey();
    ObjectBank<List<CoreLabel>> data=entry.getValue();
    if (flags.restrictLabels) {
      Set<String> possibleAnswers=new HashSet();
      for (      List<CoreLabel> doc : data) {
        for (        CoreLabel word : doc) {
          possibleAnswers.add(word.get(AnswerAnnotation.class));
        }
      }
      String pa=StringUtils.join(possibleAnswers,",");
      System.err.println("======> " + pa);
      answersByDomain.put(domainName,pa);
      for (      List<CoreLabel> doc : data) {
        for (        CoreLabel word : doc) {
          word.set(PossibleAnswersAnnotation.class,pa);
        }
      }
    }
    allData.addAll(data);
  }
  MultiDocumentCliqueDataset dataset=new MultiDocumentCliqueDataset(metaInfo,flags,allData);
  Interner.getGlobal().clear();
  dataset.metaInfo().fm.makeFaster();
  PrintWriter pw=new PrintWriter(System.err,true);
  dataset.printStats(pw);
  train(dataset,false);
}
