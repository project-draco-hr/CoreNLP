{
  SemanticGraph sg=new SemanticGraph(list);
  SemanticGraph sgCopy=sg.makeSoftCopy();
  SemgrexMatcher matcher=PASSIVE_AGENT_PATTERN.matcher(sgCopy);
  while (matcher.find()) {
    IndexedWord caseMarker=matcher.getNode("c1");
    IndexedWord gov=matcher.getNode("gov");
    IndexedWord mod=matcher.getNode("mod");
    addPassiveAgentToReln(sg,gov,mod,caseMarker);
  }
  List<IndexedWord> oldCaseMarkers=Generics.newArrayList();
  sgCopy=sg.makeSoftCopy();
  matcher=PREP_MW3_PATTERN.matcher(sgCopy);
  while (matcher.find()) {
    List<IndexedWord> caseMarkers=Generics.newArrayList(3);
    caseMarkers.add(matcher.getNode("c1"));
    caseMarkers.add(matcher.getNode("c2"));
    caseMarkers.add(matcher.getNode("c3"));
    Collections.sort(caseMarkers);
    if (caseMarkers.equals(oldCaseMarkers))     continue;
    IndexedWord gov=matcher.getNode("gov");
    IndexedWord mod=matcher.getNode("mod");
    addCaseMarkersToReln(sg,gov,mod,caseMarkers);
    oldCaseMarkers=caseMarkers;
  }
  sgCopy=sg.makeSoftCopy();
  matcher=PREP_MW2_PATTERN.matcher(sgCopy);
  while (matcher.find()) {
    List<IndexedWord> caseMarkers=Generics.newArrayList(2);
    caseMarkers.add(matcher.getNode("c1"));
    caseMarkers.add(matcher.getNode("c2"));
    Collections.sort(caseMarkers);
    if (caseMarkers.equals(oldCaseMarkers))     continue;
    IndexedWord gov=matcher.getNode("gov");
    IndexedWord mod=matcher.getNode("mod");
    addCaseMarkersToReln(sg,gov,mod,caseMarkers);
    oldCaseMarkers=caseMarkers;
  }
  sgCopy=sg.makeSoftCopy();
  matcher=PREP_PATTERN.matcher(sgCopy);
  while (matcher.find()) {
    List<IndexedWord> caseMarkers=Generics.newArrayList(1);
    caseMarkers.add(matcher.getNode("c1"));
    if (caseMarkers.equals(oldCaseMarkers))     continue;
    IndexedWord gov=matcher.getNode("gov");
    IndexedWord mod=matcher.getNode("mod");
    addCaseMarkersToReln(sg,gov,mod,caseMarkers);
    oldCaseMarkers=caseMarkers;
  }
  list.clear();
  list.addAll(sg.toArrayList());
}
