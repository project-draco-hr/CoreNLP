{
  if (args.length != 1) {
    System.err.println("usage: java TypedDependenciesDemo filename");
    return;
  }
  Treebank tb=new DiskTreebank(new TreeReaderFactory(){
    public TreeReader newTreeReader(    Reader in){
      return new PennTreeReader(in,new LabeledScoredTreeFactory(),new NPTmpRetainingTreeNormalizer());
    }
  }
);
  tb.loadPath(args[0]);
  TreebankLanguagePack tlp=new PennTreebankLanguagePack();
  GrammaticalStructureFactory gsf=tlp.grammaticalStructureFactory();
  TreePrint tp=new TreePrint("typedDependenciesCollapsed");
  for (  Tree t : tb) {
    GrammaticalStructure gs=gsf.newGrammaticalStructure(t);
    System.out.println(gs.typedDependenciesCollapsed());
    System.out.println();
    tp.printTree(t);
    System.out.println("----------");
  }
}
