{
  logger.info("GET SPIED query from " + request.getRemoteAddr());
  if (request.getCharacterEncoding() == null) {
    request.setCharacterEncoding("utf-8");
  }
  response.setContentType("text/json; charset=UTF-8");
  PrintWriter out=response.getWriter();
  try {
    String raw=request.getParameter("q");
    String seedwords=request.getParameter("seedwords");
    String test=request.getParameter("testmode");
    boolean testmode=false;
    if (test != null)     testmode=Boolean.parseBoolean(test);
    String model=request.getParameter("model");
    if (raw == null || "".equals(raw)) {
      out.print("{\"okay\":false,\"reason\":\"No data provided\"}");
    }
 else {
      run(out,raw,seedwords,testmode,model);
    }
  }
 catch (  Exception t) {
    writeError(t,out,request.toString());
  }
  out.close();
}
