{
  int sentenceIndex=0;
  for (  CoreMap sent : dataset.get(CoreAnnotations.SentencesAnnotation.class)) {
    logger.fine("Postprocessing sentence " + sentenceIndex);
    List<EntityMention> entityMentions=sent.get(MachineReadingAnnotations.EntityMentionsAnnotation.class);
    List<RelationMention> relationMentions=sent.get(MachineReadingAnnotations.RelationMentionsAnnotation.class);
    Collection<RelationMention> filteredMentions=RelationMention.filterUnrelatedRelations(relationMentions);
    int sizeBefore=filteredMentions.size();
    logger.fine("RELATIONS BEFORE INFERENCE:");
    for (    RelationMention rel : filteredMentions) {
      logger.fine("RELATION: " + rel);
    }
    postProcessRelations(entityMentions,relationMentions);
    Set<NFLRelationMention> uniqueRelationMentions=new HashSet<NFLRelationMention>();
    for (    RelationMention rel : relationMentions)     uniqueRelationMentions.add((NFLRelationMention)rel);
    List<RelationMention> uniqueRelationMentionList=new ArrayList<RelationMention>();
    for (    NFLRelationMention rel : uniqueRelationMentions)     uniqueRelationMentionList.add(rel);
    sent.set(MachineReadingAnnotations.RelationMentionsAnnotation.class,uniqueRelationMentionList);
    Collection<RelationMention> filteredMentionsAfterInference=RelationMention.filterUnrelatedRelations(uniqueRelationMentionList);
    logger.fine("RELATIONS AFTER INFERENCE:");
    for (    RelationMention rel : filteredMentionsAfterInference) {
      logger.fine("RELATION: " + rel);
    }
    logger.fine("Number of relations: before postprocessing: " + sizeBefore + ", after: "+ filteredMentionsAfterInference.size());
    sentenceIndex++;
  }
}
