{
  ObjectInputStream.GetField fields=in.readFields();
  transitionIndex=ErasureUtils.uncheckedCast(fields.get("transitionIndex",null));
  op=ErasureUtils.uncheckedCast(fields.get("op",null));
  featureFactory=ErasureUtils.uncheckedCast(fields.get("featureFactory",null));
  featureWeights=ErasureUtils.uncheckedCast(fields.get("featureWeights",null));
  knownStates=ErasureUtils.uncheckedCast(fields.get("knownStates",null));
  rootStates=ErasureUtils.uncheckedCast(fields.get("rootStates",null));
  if (rootStates == null) {
    rootStates=Collections.singleton("ROOT");
    System.err.println("Adding rootStates: " + rootStates);
  }
  rootOnlyStates=ErasureUtils.uncheckedCast(fields.get("rootOnlyStates",null));
  if (rootOnlyStates == null) {
    rootOnlyStates=Collections.singleton("ROOT");
    System.err.println("Adding rootOnlyStates: " + rootOnlyStates);
  }
}
