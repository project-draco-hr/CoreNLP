{
  List<List<CoreLabel>> namedEntities=new ArrayList<List<CoreLabel>>();
  List<CoreLabel> ne=new ArrayList<CoreLabel>();
  String previousNEType="";
  int previousNEIndex=-1;
  for (int i=0; i < words.size(); i++) {
    CoreLabel word=words.get(i);
    if (!word.ner().equals("O")) {
      if (!word.ner().equals(previousNEType) || previousNEIndex != i - 1) {
        ne=new ArrayList<CoreLabel>();
        namedEntities.add(ne);
      }
      ne.add(word);
      previousNEType=word.ner();
      previousNEIndex=i;
    }
  }
  List<String> neStrings=new ArrayList<String>();
  Set<String> hs=Generics.newHashSet();
  for (int i=0; i < namedEntities.size(); i++) {
    String ne_str=StringUtils.joinWords(namedEntities.get(i)," ");
    hs.add(ne_str);
  }
  neStrings.addAll(hs);
  return neStrings;
}
