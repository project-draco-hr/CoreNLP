{
  for (  Map.Entry<String,String> entry : attributes.entrySet()) {
    String key=entry.getKey();
    String value=entry.getValue();
    AnnotationLookup.KeyLookup lookup=AnnotationLookup.getCoreKey(key);
    if (key != null) {
      if (value != null) {
        try {
          Class valueClass=AnnotationLookup.getValueType(lookup.coreKey);
          if (valueClass == String.class) {
            chunk.set(lookup.coreKey,value);
          }
 else {
            Method valueOfMethod=valueClass.getMethod("valueOf",String.class);
            if (valueOfMethod != null) {
              chunk.set(lookup.coreKey,valueOfMethod.invoke(valueClass,value));
            }
          }
        }
 catch (        Exception ex) {
          throw new RuntimeException("Unable to annotate attribute " + key,ex);
        }
      }
 else {
        chunk.set(lookup.coreKey,null);
      }
    }
 else {
      throw new UnsupportedOperationException("Unknown null attribute.");
    }
  }
}
