{
  int numComp=datasets.size();
  int dataSize=datasets.get(0).size();
  for (int i=0; i < numComp; i++) {
    if (datasets.get(i).size() != dataSize) {
      System.err.println("Error: datasets are not of the same size! Quitting.");
      return false;
    }
  }
  for (int i=0; i < dataSize; i++) {
    int label=datasets.get(0).getLabelsArray()[i];
    for (int j=1; j < numComp; j++) {
      int jlabel=datasets.get(j).getLabelsArray()[i];
      if (jlabel != label) {
        System.err.println("Error: label mismatch between corresponding examples across components in training data:\n" + "Details: for example " + i + ", component "+ j+ ", label is '"+ jlabel+ "' whereas it should have been '"+ label+ "'.");
        return false;
      }
    }
  }
  return true;
}
