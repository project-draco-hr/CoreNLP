{
  if (method == StochasticCalculateMethods.ExternalFiniteDifference) {
    getHdotVFiniteDifference(x,v,curDerivative);
  }
 else {
    stochasticEnsure(x,v,batchSize);
  }
  return HdotV;
}
