{
  if (method == StochasticCalculateMethods.ExternalFiniteDifference) {
    log.info("Attempt to use ExternalFiniteDifference without passing currentDerivative");
    throw new RuntimeException();
  }
 else {
    stochasticEnsure(x,v,batchSize);
  }
  return HdotV;
}
