{
  Tree t1=t.prune(Filters.<Tree>acceptFilter());
  Tree tNode=Trees.maximalProjection(Trees.getTerminal(t1,index),t1,tdt.hf);
  Tree tNodeGovernor=tNode.parent(t1);
  while (!tNode.isLeaf()) {
    Tree tNode1=tdt.hf.determineHead(tNode);
    tNode.setLabel(tNode.labelFactory().newLabel("{" + tNode.label().value() + "}"));
    tNode=tNode1;
  }
  tNode.setLabel(tNode.labelFactory().newLabel(tNode.label().value() + "*Dep"));
  if (tNodeGovernor == null)   return t1;
  while (!tNodeGovernor.isLeaf()) {
    Tree tNodeGovernor1=tdt.hf.determineHead(tNodeGovernor);
    tNodeGovernor.setLabel(tNodeGovernor.labelFactory().newLabel("[" + tNodeGovernor.label().value() + "]"));
    tNodeGovernor=tNodeGovernor1;
  }
  tNodeGovernor.setLabel(tNodeGovernor.labelFactory().newLabel(tNodeGovernor.label().value() + "*Head"));
  return t1;
}
