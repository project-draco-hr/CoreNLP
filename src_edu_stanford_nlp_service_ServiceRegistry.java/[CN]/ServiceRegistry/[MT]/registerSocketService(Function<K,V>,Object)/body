{
  InetAddress localhost=null;
  try {
    localhost=InetAddress.getLocalHost();
  }
 catch (  UnknownHostException e) {
    throw new ServiceException(e);
  }
  int port=BASE_PORT;
  for (  ServiceRegistryEntry entry : loadRegistry()) {
    if (entry.host.equals(localhost) && entry.port >= port) {
      port=entry.port + 1;
    }
  }
  SocketService socket=new SocketService(service,port);
  registerService(localhost,port,service.getClass().getName(),args);
  return socket;
}
