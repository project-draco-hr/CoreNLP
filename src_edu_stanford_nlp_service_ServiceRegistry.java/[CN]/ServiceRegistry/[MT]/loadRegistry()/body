{
  try {
    FileInputStream fileStream=null;
    try {
      if (registryPath.exists() && registryPath.length() == 0) {
        throw new FileNotFoundException();
      }
 else {
        fileStream=new FileInputStream(registryPath);
      }
    }
 catch (    FileNotFoundException e) {
      saveRegistry(new ArrayList<ServiceRegistryEntry>());
      fileStream=new FileInputStream(registryPath);
    }
    ObjectInputStream objectStream=new ObjectInputStream(fileStream);
    List<ServiceRegistryEntry> registry=(List)objectStream.readObject();
    objectStream.close();
    fileStream.close();
    return registry;
  }
 catch (  Exception e) {
    throw new ServiceException(e);
  }
}
