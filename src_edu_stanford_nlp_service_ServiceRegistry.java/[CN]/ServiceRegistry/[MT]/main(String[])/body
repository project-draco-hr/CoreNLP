{
  ServiceRegistry registry=new ServiceRegistry();
  try {
    if (args.length == 0) {
      throw new ServiceException(USAGE);
    }
    if (args[0].equals("ls")) {
      registry.cmdList();
    }
 else     if (args[0].equals("purge")) {
      registry.cmdPurge();
      registry.cmdList();
    }
 else     if (args[0].equals("stop")) {
      if (args.length != 2) {
        throw new ServiceException(USAGE);
      }
      String[] s=args[1].split(":");
      SocketService.stop(s[0],Integer.parseInt(s[1]));
    }
 else {
      throw new ServiceException(USAGE);
    }
  }
 catch (  ServiceException e) {
    System.out.println(e.getMessage());
  }
catch (  Exception e) {
    System.out.println(USAGE);
    e.printStackTrace();
  }
}
