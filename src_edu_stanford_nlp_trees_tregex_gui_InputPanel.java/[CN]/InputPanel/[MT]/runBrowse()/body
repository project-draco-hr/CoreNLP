{
  this.setPreferredSize(this.getSize());
  Thread browseThread=new Thread(){
    @Override public void run(){
      useProgressBar(true);
      final List<TreeFromFile> trees=new ArrayList<TreeFromFile>();
      List<FileTreeNode> treebanks=FilePanel.getInstance().getActiveTreebanks();
      if (TregexGUI.getInstance().isTdiffEnabled())       treebanks.remove(0);
      double multiplier=100.0 / treebanks.size();
      for (int i=0; i < treebanks.size(); i++) {
        FileTreeNode treebank=treebanks.get(i);
        String filename=treebank.getFilename();
        for (        Tree curTree : treebank.getTreebank()) {
          trees.add(new TreeFromFile(curTree,filename));
        }
        updateProgressBar(multiplier * (i + 1));
      }
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          MatchesPanel.getInstance().setMatches(trees,null);
          MatchesPanel.getInstance().focusOnList();
          useProgressBar(false);
        }
      }
);
    }
  }
;
  browseThread.start();
}
