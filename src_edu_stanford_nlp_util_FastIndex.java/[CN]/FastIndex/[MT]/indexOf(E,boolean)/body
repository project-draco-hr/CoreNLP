{
  Integer index=indexes.get(o);
  if (index == null) {
    if (add && !locked) {
      index=indexes.get(o);
      if (index == null) {
        index=objects.size();
        objects.add(o);
        indexes.put(o,index);
      }
    }
 else {
      return -1;
    }
  }
  return index;
}
