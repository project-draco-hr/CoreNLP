{
  ClassicCounter<String> packageNames=new ClassicCounter<String>();
  if (!file.getName().endsWith("java")) {
    return (packageNames);
  }
  try {
    BufferedReader br=new BufferedReader(new FileReader(file));
    String line;
    while ((line=br.readLine()) != null) {
      int index;
      if (line.startsWith("import") && (index=line.indexOf(';')) != -1) {
        String packageName=line.substring("import".length(),index).trim();
        index=packageName.lastIndexOf('.');
        if (index != -1) {
          String usedFile=packageName.substring(index + 1);
          packageName=filter(packageName.substring(0,index));
          if (packageName != null) {
            packageNames.incrementCount(packageName);
            String filename=file.getName();
            filename=filename.substring(0,filename.length() - 5);
            filename=filename + " uses " + usedFile;
            packageUser.put(packageName,filename);
          }
        }
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  return (packageNames);
}
