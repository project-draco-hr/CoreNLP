{
  JPanel jp=new JPanel();
  final JLabel tc=new JLabel(tag);
  tc.setBackground(new Color(255,255,255));
  jp.add(tc,BorderLayout.CENTER);
  colorChooser.setPreviewPanel(jp);
  colorChooser.setColor(initialColor);
  tc.setForeground(initialColor);
  colorChooser.getSelectionModel().addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      Color newColor=colorChooser.getColor();
      tc.setForeground(newColor);
    }
  }
);
  JDialog d=JColorChooser.createDialog(this,"Choose tag color",true,colorChooser,actor,actor);
  d.setVisible(true);
  return colorChooser.getColor();
}
