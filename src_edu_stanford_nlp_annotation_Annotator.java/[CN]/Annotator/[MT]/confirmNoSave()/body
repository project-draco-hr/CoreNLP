{
  if (!cache.equals(tp.getText())) {
    int n=JOptionPane.showConfirmDialog(this,"Save changes first?","Confirm",JOptionPane.YES_NO_CANCEL_OPTION);
    if (n == JOptionPane.YES_OPTION) {
      if (!saveFile(true)) {
        return true;
      }
    }
 else     if (n == JOptionPane.CANCEL_OPTION) {
      return false;
    }
  }
  return true;
}
