{
  Counter<SemgrexPattern> patterns=new ClassicCounter<SemgrexPattern>();
  for (String line; (line=reader.readLine()) != null; ) {
    line=line.trim();
    if (line.length() == 0 || line.startsWith("#"))     continue;
    if (line.startsWith("macro "))     continue;
    line=replaceMacros(line,macros);
    String[] tok=line.split("\t",2);
    SemgrexPattern pattern=SemgrexPattern.compile(tok[0]);
    patterns.setCount(pattern,tok.length > 1 ? Double.parseDouble(tok[1]) : 1.0);
  }
  return patterns;
}
