{
  List<SemgrexPattern> patterns=new ArrayList<SemgrexPattern>();
  for (String line; (line=reader.readLine()) != null; ) {
    line=line.trim();
    if (line.length() == 0 || line.startsWith("#"))     continue;
    if (line.startsWith("macro "))     continue;
    line=replaceMacros(line,macros);
    SemgrexPattern pattern=SemgrexPattern.compile(line);
    patterns.add(pattern);
  }
  return patterns;
}
