{
  if (jfc.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {
    Properties props=new Properties();
    try {
      props.load(new FileInputStream(jfc.getSelectedFile()));
    }
 catch (    IOException e) {
      JOptionPane.showMessageDialog(this,"Error loading properties: " + e.getMessage(),"Error loading properties",JOptionPane.ERROR_MESSAGE);
      return;
    }
    for (int i=0; i < ppanels.size(); i++) {
      PropertyPanel ppanel=ppanels.get(i);
      String newValue=props.getProperty(ppanel.getKey());
      if (newValue != null) {
        ppanel.setValue(newValue);
        props.remove(ppanel.getKey());
      }
    }
    Enumeration<?> customPropertyNames=props.propertyNames();
    while (customPropertyNames.hasMoreElements()) {
      String key=(String)customPropertyNames.nextElement();
      addCustomPropertyPanel(key,props.getProperty(key));
    }
  }
}
