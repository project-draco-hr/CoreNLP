{
  BufferedReader in=new BufferedReader(new FileReader(wekaFileName));
  String s;
  this.cutoff=cutoff;
  System.out.println("Feature count cutoff (strictly greater included) is " + cutoff);
  while ((s=in.readLine()) != null) {
    if (ignore(s)) {
      continue;
    }
    if (s.startsWith("@relation")) {
      continue;
    }
    if (s.startsWith("@attribute") || s.startsWith("@ATTRIBUTE")) {
      readAttribute(s);
    }
    if (s.startsWith("@data") || s.startsWith("@DATA")) {
      break;
    }
  }
  if (filter) {
    counts=new int[numAttributes + 1];
    indices=new int[numAttributes + 1];
    maxYsList=new ArrayList<Integer>();
    readInstances(in,true);
    System.out.println("max y is " + maxY);
    int numpass=0;
    for (int j=0; j < counts.length; j++) {
      System.out.println(j + "\t" + counts[j]);
      if (counts[j] > cutoff) {
        numpass++;
      }
    }
    System.out.println(" passing " + numpass + " out of "+ (numAttributes + 1));
    in.close();
    in=new BufferedReader(new FileReader(wekaFileName));
    while ((s=in.readLine()) != null) {
      if (s.startsWith("@data") || s.startsWith("@DATA")) {
        break;
      }
    }
  }
  readInstances(in,false);
}
