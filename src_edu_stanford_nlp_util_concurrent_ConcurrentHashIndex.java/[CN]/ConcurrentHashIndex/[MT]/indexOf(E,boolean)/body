{
  if (add) {
synchronized (this) {
      if (!item2Index.containsKey(o)) {
        item2Index.put(o,index2Item.size());
        index2Item.add(o);
      }
    }
    return item2Index.get(o);
  }
 else {
    return indexOf(o);
  }
}
