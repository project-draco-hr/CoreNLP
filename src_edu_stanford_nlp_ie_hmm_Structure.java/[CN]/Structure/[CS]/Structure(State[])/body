{
  transitions=new ArrayList<List<Double>>();
  stateTypes=new ArrayList<Integer>();
  for (int i=0; i < states.length; i++) {
    if (states[i].transition.length != states.length) {
      System.err.println("State transitions do not form a square matrix");
      throw (new IllegalArgumentException());
    }
    List<Double> curTransitions=new ArrayList<Double>();
    for (int j=0; j < states[i].transition.length; j++) {
      curTransitions.add(new Double(states[i].transition[j]));
    }
    transitions.add(curTransitions);
    stateTypes.add(Integer.valueOf(states[i].type));
  }
}
