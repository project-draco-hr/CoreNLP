{
  if (children != null) {
    for (    K key : children.keySet()) {
      List<K> p=new ArrayList<K>(prefix.size() + 1);
      p.addAll(prefix);
      p.add(key);
      children.get(key).updateEntries(entries,p);
    }
  }
  if (value != null) {
    entries.add(new Map.Entry<Iterable<K>,V>(){
      @Override public Iterable<K> getKey(){
        return prefix;
      }
      @Override public V getValue(){
        return value;
      }
      @Override public V setValue(      V value){
        throw new UnsupportedOperationException();
      }
    }
);
  }
}
