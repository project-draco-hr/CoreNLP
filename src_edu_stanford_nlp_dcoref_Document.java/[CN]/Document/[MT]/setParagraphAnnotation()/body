{
  int paragraphIndex=0;
  int previousOffset=-10;
  for (  CoreMap sent : annotation.get(SentencesAnnotation.class)) {
    for (    CoreLabel w : sent.get(TokensAnnotation.class)) {
      if (w.containsKey(CharacterOffsetBeginAnnotation.class)) {
        if (w.get(CharacterOffsetBeginAnnotation.class) > previousOffset + 2)         paragraphIndex++;
        w.set(ParagraphAnnotation.class,paragraphIndex);
        previousOffset=w.get(CharacterOffsetEndAnnotation.class);
      }
 else {
        w.set(ParagraphAnnotation.class,-1);
      }
    }
  }
  for (  List<Mention> l : predictedOrderedMentionsBySentence) {
    for (    Mention m : l) {
      m.paragraph=m.headWord.get(ParagraphAnnotation.class);
    }
  }
  numParagraph=paragraphIndex;
}
