{
  if (args.length < 1) {
    System.err.printf("Usage: java %s tree_file(s)%n%n",SpanishXMLTreeReader.class.getName());
    System.exit(-1);
  }
  List<File> fileList=new ArrayList<File>();
  for (int i=0; i < args.length; i++)   fileList.add(new File(args[i]));
  TreeReaderFactory trf=new SpanishXMLTreeReaderFactory(false);
  int totalTrees=0;
  Set<String> morphAnalyses=Generics.newHashSet();
  try {
    for (    File file : fileList) {
      TreeReader tr=trf.newTreeReader(new BufferedReader(new InputStreamReader(new FileInputStream(file),"ISO-8859-1")));
      Tree t;
      int numTrees;
      String canonicalFileName=file.getName().substring(0,file.getName().lastIndexOf('.'));
      for (numTrees=0; (t=tr.readTree()) != null; numTrees++) {
        String ftbID=((CoreLabel)t.label()).get(CoreAnnotations.SentenceIDAnnotation.class);
        System.out.printf("%s-%s\t%s%n",canonicalFileName,ftbID,t.toString());
        List<Label> leaves=t.yield();
        for (        Label label : leaves) {
          if (label instanceof CoreLabel)           morphAnalyses.add(((CoreLabel)label).originalText());
        }
      }
      tr.close();
      System.err.printf("%s: %d trees%n",file.getName(),numTrees);
      totalTrees+=numTrees;
    }
    System.err.printf("%nRead %d trees%n",totalTrees);
  }
 catch (  FileNotFoundException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
}
