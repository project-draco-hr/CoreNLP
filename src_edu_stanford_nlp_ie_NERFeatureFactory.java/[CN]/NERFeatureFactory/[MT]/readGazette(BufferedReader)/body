{
  Pattern p=Pattern.compile("^(\\S+)\\s+(.+)$");
  for (String line; (line=in.readLine()) != null; ) {
    Matcher m=p.matcher(line);
    if (m.matches()) {
      String type=intern(m.group(1));
      String phrase=m.group(2);
      String[] words=phrase.split(" ");
      for (int i=0; i < words.length; i++) {
        String word=intern(words[i]);
        if (flags.sloppyGazette) {
          Collection<String> entries=wordToGazetteEntries.get(word);
          if (entries == null) {
            entries=new HashSet<String>();
            wordToGazetteEntries.put(word,entries);
          }
          String feature=intern(type + "-GAZ" + words.length);
          entries.add(feature);
        }
        if (flags.cleanGazette) {
          Collection<GazetteInfo> infos=wordToGazetteInfos.get(word);
          if (infos == null) {
            infos=new HashSet<GazetteInfo>();
            wordToGazetteInfos.put(word,infos);
          }
          GazetteInfo info=new GazetteInfo();
          info.loc=i;
          info.words=words;
          info.feature=intern(type + "-GAZ" + words.length);
          infos.add(info);
        }
      }
    }
  }
}
