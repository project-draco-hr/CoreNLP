{
  if (++i % flags.interimOutputFreq == 0) {
    String name;
    if (flags.serializeTo.lastIndexOf(".") >= 0) {
      name=flags.serializeTo.substring(0,flags.serializeTo.lastIndexOf("."));
    }
 else {
      name=flags.serializeTo;
    }
    name+=".ddat";
    System.err.print("Storing interim (double) weights to " + name + " ... ");
    try {
      DataOutputStream dos=new DataOutputStream(new BufferedOutputStream(new GZIPOutputStream(new FileOutputStream(name))));
      Convert.saveDoubleArr(dos,x);
    }
 catch (    IOException e) {
      System.err.println("ERROR!");
    }
    System.err.println("DONE.");
  }
  return 0;
}
