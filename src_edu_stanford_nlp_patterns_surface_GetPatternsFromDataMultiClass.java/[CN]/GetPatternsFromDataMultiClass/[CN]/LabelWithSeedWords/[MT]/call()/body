{
  Map<String,List<CoreLabel>> newsent=new HashMap<String,List<CoreLabel>>();
  for (  String k : keyset) {
    List<CoreLabel> sent=sents.get(k);
    String[] tokens=new String[sent.size()];
    String[] tokenslemma=new String[sent.size()];
    int num=0;
    for (    CoreLabel l : sent) {
      tokens[num]=l.word();
      if (l.lemma() == null)       throw new RuntimeException("how come lemma is null");
      tokenslemma[num]=l.lemma();
      num++;
    }
    boolean[] labels=new boolean[tokens.length];
    CollectionValuedMap<Integer,String> matchedPhrases=new CollectionValuedMap<Integer,String>();
    for (    String[] s : seedwordsTokens) {
      List<Integer> indices=getSubListIndex(s,tokens,tokenslemma,constVars.englishWords,seenFuzzyMatches,constVars.minLen4FuzzyForPattern);
      if (indices != null && !indices.isEmpty())       for (      int index : indices)       for (int i=0; i < s.length; i++) {
        matchedPhrases.add(index + i,StringUtils.join(s," "));
        labels[index + i]=true;
        Redwood.log(Redwood.DBG,channelNameLogger,"labeling " + tokens[index + i] + " or its lemma "+ tokenslemma[index + i]+ " as "+ label+ " because of the dict phrase "+ StringUtils.join(s," "));
      }
    }
    int i=-1;
    for (    CoreLabel l : sent) {
      i++;
      if (labels[i])       l.set(labelClass,label);
 else       l.set(labelClass,backgroundSymbol);
      l.set(PatternsAnnotations.MatchedPhrases.class,(Set<String>)matchedPhrases.get(i));
    }
    newsent.put(k,sent);
  }
  return newsent;
}
