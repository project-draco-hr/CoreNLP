{
  Properties props=new Properties();
  if (useTargetNERRestriction) {
    props.setProperty("annotators","tokenize,ssplit,pos,lemma,ner");
  }
 else   props.setProperty("annotators","tokenize,ssplit,pos,lemma");
  props.put("tokenize.options","ptb3Escaping=false,normalizeParentheses=false,escapeForwardSlashAsterisk=false");
  if (posModelPath != null) {
    props.setProperty("pos.model",posModelPath);
  }
  StanfordCoreNLP pipeline=new StanfordCoreNLP(props);
  if (lowercase)   text=text.toLowerCase();
  Annotation doc=new Annotation(text);
  pipeline.annotate(doc);
  Map<String,List<CoreLabel>> sents=new HashMap<String,List<CoreLabel>>();
  int i=-1;
  for (  CoreMap s : doc.get(CoreAnnotations.SentencesAnnotation.class)) {
    i++;
    sents.put(Integer.toString(i),s.get(CoreAnnotations.TokensAnnotation.class));
  }
  return sents;
}
