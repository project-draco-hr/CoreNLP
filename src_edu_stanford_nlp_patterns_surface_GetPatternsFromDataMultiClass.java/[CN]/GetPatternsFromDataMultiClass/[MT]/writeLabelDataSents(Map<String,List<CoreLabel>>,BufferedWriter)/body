{
  for (  Entry<String,List<CoreLabel>> sent : sents.entrySet()) {
    writer.write(sent.getKey() + "\t");
    Map<String,Boolean> lastWordLabeled=new HashMap<String,Boolean>();
    for (    String label : constVars.getLabelDictionary().keySet()) {
      lastWordLabeled.put(label,false);
    }
    for (    CoreLabel s : sent.getValue()) {
      String str="";
      for (      Entry<String,Class<? extends TypesafeMap.Key<String>>> as : constVars.answerClass.entrySet()) {
        String label=as.getKey();
        boolean lastwordlabeled=lastWordLabeled.get(label);
        if (s.get(as.getValue()).equals(label)) {
          if (!lastwordlabeled) {
            str+=" <" + label + "> ";
          }
          lastWordLabeled.put(label,true);
        }
 else {
          if (lastwordlabeled) {
            str+=" </" + label + ">";
          }
          lastWordLabeled.put(label,false);
        }
      }
      str+=" " + s.word();
      writer.write(str.trim() + " ");
    }
    writer.write("\n");
  }
}
