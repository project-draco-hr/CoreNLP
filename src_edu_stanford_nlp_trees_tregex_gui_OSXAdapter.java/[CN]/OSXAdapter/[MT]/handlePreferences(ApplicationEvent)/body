{
  if (mainApp != null) {
    mainApp.doPreferences();
    ae.setHandled(true);
  }
 else {
    throw new IllegalStateException("handlePreferences: TregexGUI instance detached from listener");
  }
}
