{
  if (key < 0 || key > map.length)   throw new IllegalArgumentException("Bad key for map with range " + map.length + ": "+ key);
  if (value < 0)   throw new IllegalArgumentException("Bad value: " + value);
  int old=map[key];
  map[key]=value;
  return old;
}
