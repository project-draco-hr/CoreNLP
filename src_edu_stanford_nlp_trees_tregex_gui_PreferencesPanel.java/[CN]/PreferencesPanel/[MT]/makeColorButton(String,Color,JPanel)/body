{
  final ColorIcon icon=new ColorIcon(iconColor);
  final JButton button=new JButton(icon);
  button.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent arg0){
      Color newColor=JColorChooser.showDialog(parent,promptText,icon.getColor());
      if (newColor != null) {
        icon.setColor(newColor);
        parent.repaint();
      }
    }
  }
);
  return button;
}
