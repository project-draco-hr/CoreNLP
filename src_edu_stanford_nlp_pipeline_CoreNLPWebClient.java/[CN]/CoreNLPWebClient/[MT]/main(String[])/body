{
  if (args.length < 2) {
    System.err.println("Usage: " + CoreNLPWebClient.class.getSimpleName() + " -host <hostname> -port <port> ...");
    System.exit(1);
  }
  Properties props=StringUtils.argsToProperties(args);
  boolean hasH=props.containsKey("h");
  boolean hasHelp=props.containsKey("help");
  if (hasH || hasHelp) {
    String helpValue=hasH ? props.getProperty("h") : props.getProperty("help");
    StanfordCoreNLP.printHelp(System.err,helpValue);
    return;
  }
  if (props.getProperty("backend") == null) {
    System.err.println("Usage: " + CoreNLPWebClient.class.getSimpleName() + " -backend <hostname:port,...> ...");
    System.err.println("Missing required option: -backend <hostname:port,...>");
    System.exit(1);
  }
  List<Backend> backends=new ArrayList<>();
  for (  String spec : props.getProperty("backend").split(",")) {
    String host=spec.substring(0,spec.indexOf(":"));
    int port=Integer.parseInt(spec.substring(spec.indexOf(":") + 1));
    backends.add(new Backend(host,port));
  }
  new CoreNLPWebClient(props,backends).run();
}
