{
  final File WORK_DIR_FILE=File.createTempFile("DcorefITest","");
  final String WORK_DIR=WORK_DIR_FILE.getPath();
  final String PROPS_PATH=WORK_DIR + File.separator + "coref.properties";
  System.out.println("Working in directory " + WORK_DIR);
  WORK_DIR_FILE.delete();
  WORK_DIR_FILE.mkdir();
  WORK_DIR_FILE.deleteOnExit();
  makePropsFile(PROPS_PATH,WORK_DIR);
  System.out.println("Made props file " + PROPS_PATH);
  Properties props=PropertiesUtils.asProperties("-props",PROPS_PATH);
  SieveCoreferenceSystem corefSystem=new SieveCoreferenceSystem(props);
  String returnMsg=runCorefSystem(corefSystem,props,WORK_DIR);
  double finalScore=getFinalScore(returnMsg);
  System.out.println(returnMsg);
  System.out.println("Final Score: (MUC+B^3+ceafe)/3 = " + (new DecimalFormat("#.##")).format(finalScore));
  assertEquals(59.2,finalScore,1.0);
}
