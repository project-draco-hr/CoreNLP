{
  Predicate<String> tagFilt;
  if (INCLUDE_PUNCTUATION_DEPENDENCIES) {
    tagFilt=Filters.acceptFilter();
  }
 else {
    tagFilt=new PennTreebankLanguagePack().punctuationTagRejectFilter();
  }
  GrammaticalStructure gs=new UniversalEnglishGrammaticalStructure(tree,tagFilt,new UniversalSemanticHeadFinder(true),threadSafe);
  return makeFromTree(gs,mode,includeExtras,threadSafe,filter);
}
