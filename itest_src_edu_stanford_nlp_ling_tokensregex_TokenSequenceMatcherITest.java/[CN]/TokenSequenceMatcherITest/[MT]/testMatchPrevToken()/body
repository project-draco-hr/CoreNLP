{
  CoreMap doc=createDocument("A A B B B");
  Env env=TokenSequencePattern.getNewEnv();
  env.setDefaultStringMatchFlags(NodePattern.CASE_INSENSITIVE);
  TokenSequencePattern p=TokenSequencePattern.compile(env,"([] [ {{ ner==-1.ner}} ] )");
  TokenSequenceMatcher m=p.getMatcher(doc.get(CoreAnnotations.TokensAnnotation.class));
  assertTrue(m.find());
  assertEquals("Archbishop of Canterbury",m.group());
  assertFalse(m.find());
  p=TokenSequencePattern.compile(env,"ARCHBISHOP OF CANTERBURY");
  m=p.getMatcher(doc.get(CoreAnnotations.TokensAnnotation.class));
  assertTrue(m.find());
  assertEquals("Archbishop of Canterbury",m.group());
  assertFalse(m.find());
}
