{
  String expectedResults=IOUtils.slurpFile("edu/stanford/nlp/dcoref/expected.txt");
  String actualResults=runCorefTest(true);
  String[] expectedLines=expectedResults.trim().split("[\n\r]+");
  String[] actualLines=actualResults.trim().split("[\n\r]+");
  int line;
  String lastLine=expectedLines[expectedLines.length - 1];
  for (line=actualLines.length - 1; line >= 0; --line) {
    if (actualLines[line].equals(lastLine)) {
      break;
    }
  }
  assertTrue(line >= 0);
  for (int i=0; i < expectedLines.length; ++i) {
    String expectedLine=expectedLines[expectedLines.length - 1 - i].trim().replaceAll("\\s+"," ");
    String actualLine=actualLines[line - i].trim().replaceAll("\\s+"," ");
    assertEquals(expectedLine,actualLine);
  }
  System.err.println(line);
}
