{
  List<Pair<TregexPattern,TsurgeonPattern>> operations=new ArrayList<Pair<TregexPattern,TsurgeonPattern>>();
  BufferedReader reader=new BufferedReader(new InputStreamReader(new FileInputStream(filename),encoding));
  for (; ; ) {
    Pair<TregexPattern,TsurgeonPattern> operation=getOperationFromReader(reader,compiler);
    if (operation == null) {
      break;
    }
    operations.add(operation);
  }
  reader.close();
  return operations;
}
