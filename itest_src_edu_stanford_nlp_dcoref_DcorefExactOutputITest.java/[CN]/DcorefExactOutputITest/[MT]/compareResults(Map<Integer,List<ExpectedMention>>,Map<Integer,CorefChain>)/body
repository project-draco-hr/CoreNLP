{
  assertEquals("Unexpected difference in number of chains",expected.size(),chains.size());
  for (  Integer key : expected.keySet()) {
    boolean found=false;
    List<ExpectedMention> expectedChain=expected.get(key);
    for (    CorefChain chain : chains.values()) {
      if (compareChain(expectedChain,chain)) {
        found=true;
        break;
      }
    }
    assertTrue("Could not find expected coref chain " + key + " in the results",found);
  }
  for (  Integer key : chains.keySet()) {
    boolean found=false;
    CorefChain chain=chains.get(key);
    for (    List<ExpectedMention> expectedChain : expected.values()) {
      if (compareChain(expectedChain,chain)) {
        found=true;
        break;
      }
    }
    assertTrue("Dcoref produced chain " + chain + " which was not in the expected results",found);
  }
}
