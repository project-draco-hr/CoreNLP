{
  HashMap<Integer,List<Range>> allRanges=new HashMap<Integer,List<Range>>();
  int currentType=0;
  int currentStart=-1;
  for (int i=0; i < answers.length; i++) {
    if (answers[i] != currentType) {
      if (currentStart == -1) {
        currentStart=i;
      }
 else {
        List<Range> ranges=allRanges.get(Integer.valueOf(currentType));
        if (ranges == null) {
          ranges=new ArrayList<Range>();
        }
        ranges.add(new Range(currentStart,i));
        allRanges.put(Integer.valueOf(currentType),ranges);
        currentStart=(answers[i] == 0 ? -1 : i);
      }
    }
    currentType=answers[i];
  }
  if (currentStart != -1) {
    List<Range> ranges=allRanges.get(Integer.valueOf(currentType));
    if (ranges == null) {
      ranges=new ArrayList<Range>();
    }
    ranges.add(new Range(currentStart,answers.length));
    allRanges.put(Integer.valueOf(currentType),ranges);
  }
  return allRanges;
}
