{
  Factory<String> factory=new Factory<String>(){
    private static final long serialVersionUID=3715898146232279895L;
    public String create(){
      return "hello world";
    }
  }
;
  DefaultValuedMap<String,String> dvm1=new DefaultValuedMap<String,String>(factory);
  DefaultValuedMap<Integer,DefaultValuedMap<String,String>> dvm2=dvm1.asDefault();
  DefaultValuedMap<String,DefaultValuedMap<Integer,DefaultValuedMap<String,String>>> dvm3=dvm2.asDefault();
  Assert.assertEquals("hello world",dvm1.get("foo"));
  Assert.assertEquals("hello world",dvm2.get(42).get("baz"));
  Assert.assertEquals("hello world",dvm3.get("spam").get(13).get("badger"));
  dvm1.put("X","Y");
  Assert.assertEquals("hello world",dvm2.get(42).get("X"));
  Assert.assertEquals("hello world",dvm2.get(-1).get("X"));
}
