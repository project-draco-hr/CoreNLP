{
  super(parent,true);
  em=e;
  om=o;
  initComponents();
  getRootPane().setDefaultButton(okButton);
  JComponent contentPane=(JComponent)getContentPane();
  contentPane.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),"cancel");
  contentPane.getActionMap().put("cancel",new AbstractAction(){
    /** 
 */
    private static final long serialVersionUID=-4136145430797391042L;
    public void actionPerformed(    ActionEvent ae){
      setResponse(JOptionPane.CANCEL_OPTION);
    }
  }
);
  if (om != null) {
    classChooser.setEditable(false);
    slotChooser.setEditable(false);
    classChooser.addItemListener(new ItemListener(){
      public void itemStateChanged(      ItemEvent e){
        if (e.getStateChange() == ItemEvent.SELECTED) {
          String className=(String)e.getItem();
          List<String> slotNames=new ArrayList<String>(om.getSlotNames(className));
          Collections.sort(slotNames);
          slotChooser.setModel(new DefaultComboBoxModel(slotNames.toArray(new String[0])));
        }
      }
    }
);
    List<String> classNames=new ArrayList<String>(om.getClassNames());
    Collections.sort(classNames);
    classChooser.setModel(new DefaultComboBoxModel(classNames.toArray(new String[0])));
    classChooser.setSelectedIndex(-1);
    classChooser.setSelectedIndex(0);
  }
  if (em != null) {
    extractorChooser.setEditable(false);
    fieldChooser.setEditable(false);
    extractorChooser.addItemListener(new ItemListener(){
      public void itemStateChanged(      ItemEvent e){
        if (e.getStateChange() == ItemEvent.SELECTED) {
          String extractorName=(String)e.getItem();
          String[] fieldNames=em.getExtractableFields(extractorName);
          Arrays.sort(fieldNames);
          fieldChooser.setModel(new DefaultComboBoxModel(fieldNames));
        }
      }
    }
);
    List<String> extractorNames=new ArrayList<String>(em.getExtractorNames());
    Collections.sort(extractorNames);
    extractorChooser.setModel(new DefaultComboBoxModel(extractorNames.toArray(new String[0])));
    extractorChooser.setSelectedIndex(-1);
    extractorChooser.setSelectedIndex(0);
  }
}
