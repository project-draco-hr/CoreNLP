{
  String tokClass=props.getProperty("tokenize.class",null);
  if (tokClass != null) {
    if (tokClass.equals("SpanishTokenizer"))     return Language.Spanish;
 else     if (tokClass.equals("FrenchTokenizer"))     return Language.French;
 else     return Language.English;
  }
  if (Boolean.valueOf(props.getProperty("tokenize.whitespace","false")))   return Language.Whitespace;
  String languageName=props.getProperty("tokenize.language","english");
  Language language=Language.fromName(languageName);
  if (language == null) {
    throw new IllegalArgumentException("Tokenizer does not support language " + languageName);
  }
  return language;
}
