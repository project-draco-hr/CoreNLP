{
  this.metaInfo=metaInfo;
  this.flags=flags;
  if (flags.serializeDatasetsDir != null) {
    String hostname=System.getenv("HOST").toLowerCase();
    machine=hostname.substring(0,hostname.indexOf('.'));
    actualSerializeDir=flags.serializeDatasetsDir.replace("$MACH",machine);
    File sdir=new File(actualSerializeDir);
    sdir.mkdirs();
    System.out.println("Clearing " + actualSerializeDir);
    for (    File f : sdir.listFiles()) {
      f.delete();
    }
  }
  if (flags.fakeDataset) {
    String hostname=System.getenv("HOST").toLowerCase();
    machine=hostname.substring(0,hostname.indexOf('.'));
    actualLoadDir=flags.loadDatasetsDir.replace("$MACH",machine);
    deserializeGlobalParams(actualLoadDir);
    this.flags=flags;
    datasets=new ArrayList<CliqueDataset>();
    File dir=new File(actualLoadDir);
    String[] filenames=dir.list(new CRFObjectiveFunction.FindFilter("dataset-"));
    if (filenames.length < 1) {
      throw new RuntimeException("MultiDocumentCliqueDataset: " + "Couldn't find any datasets.");
    }
    for (int i=0; i < filenames.length * flags.numDatasetsPerFile; i++) {
      datasets.add(new CliqueDataset(metaInfo,flags,new LinkedList<CoreLabel>()));
    }
  }
 else {
    setDocuments(dataOB);
  }
}
