{
  List<Pair<E,Double>> l=new ArrayList<Pair<E,Double>>(c.size());
  for (  E e : c.keySet()) {
    l.add(new Pair<E,Double>(e,c.getCount(e)));
  }
  Collections.sort(l,new Comparator<Pair<E,Double>>(){
    @SuppressWarnings("unchecked") public int compare(    Pair<E,Double> a,    Pair<E,Double> b){
      int candidate=Double.compare(a.second,b.second);
      if (candidate == 0.0 && a.first instanceof Comparable && b.first instanceof Comparable) {
        return ((Comparable)a.first).compareTo(b.first);
      }
 else {
        return candidate;
      }
    }
  }
);
  return l;
}
