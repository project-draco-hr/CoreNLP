{
  ClassicCounter<String> weights=new ClassicCounter<String>();
  ClassicCounter<String> goldVector=new ClassicCounter<String>();
  ClassicCounter<String> guessVector=new ClassicCounter<String>();
  ClassicCounter<String>[] goldVectors=new ClassicCounter[]{goldVector};
  ClassicCounter<String>[] guessVectors=new ClassicCounter[]{guessVector};
  double[] losses=new double[1];
  MIRAWeightUpdater<String,String> mira=new MIRAWeightUpdater<String,String>(Double.POSITIVE_INFINITY);
  System.err.println("|  o");
  System.err.println("|x__");
  goldVector.setCount("x",1);
  goldVector.setCount("y",1);
  losses[0]=1;
  Counter<String> update=mira.getUpdate(weights,goldVectors,guessVectors,losses,new String[0],0);
  System.err.println("update: " + update);
  weights.addAll(update);
  goldVector.clear();
  guessVector.clear();
  goldVector.setCount("x",1);
  losses[0]=2;
  System.err.println("|   ");
  System.err.println("|x_o");
  update=mira.getUpdate(weights,goldVectors,guessVectors,losses,new String[0],0);
  System.err.println("update: " + update);
  mira=new MIRAWeightUpdater<String,String>(0.5);
  weights=new ClassicCounter<String>();
  goldVectors=new ClassicCounter[]{new ClassicCounter(),new ClassicCounter()};
  guessVectors=new ClassicCounter[]{new ClassicCounter(),new ClassicCounter()};
  losses=new double[2];
  goldVectors[0].setCount("x",1);
  goldVectors[0].setCount("y",1);
  goldVectors[1].setCount("x",1);
  goldVectors[1].setCount("y",1);
  losses[0]=1;
  losses[1]=1;
  guessVectors[0].setCount("x",1);
  guessVectors[1].setCount("y",1);
  System.err.println("|x o");
  System.err.println("|__x");
  System.err.println(weights);
  update=mira.getUpdate(weights,goldVectors,guessVectors,losses,new String[0],0);
  System.err.println("update:" + update);
  mira=new MIRAWeightUpdater<String,String>();
  update=mira.getUpdate(weights,goldVectors,guessVectors,losses,new String[0],0);
  System.err.println("update:" + update);
  goldVectors=new ClassicCounter[]{new ClassicCounter(),new ClassicCounter(),new ClassicCounter()};
  guessVectors=new ClassicCounter[]{new ClassicCounter(),new ClassicCounter(),new ClassicCounter()};
  losses=new double[3];
  losses[0]=1;
  losses[1]=1;
  losses[2]=1;
  goldVectors[0].setCount("x",1);
  goldVectors[0].setCount("y",1);
  goldVectors[1].setCount("x",1);
  goldVectors[1].setCount("y",1);
  goldVectors[2].setCount("x",1);
  goldVectors[2].setCount("y",1);
  guessVectors[0].setCount("x",1);
  guessVectors[1].setCount("y",1);
  guessVectors[2].setCount("x",0.75);
  guessVectors[2].setCount("y",0.75);
  update=mira.getUpdate(weights,goldVectors,guessVectors,losses,new String[0],0);
  System.err.println("update:" + update);
}
