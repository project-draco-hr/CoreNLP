{
  if (path.isDirectory()) {
    if (includeDirs) {
      add(path);
    }
    File[] directoryListing=path.listFiles(filt);
    if (directoryListing == null) {
      throw new IllegalArgumentException("Directory access problem for: " + path);
    }
    for (int i=0; i < directoryListing.length; i++) {
      processPath(directoryListing[i],filt,includeDirs);
    }
  }
 else {
    if (!path.exists()) {
      throw new IllegalArgumentException("File doesn't exist: " + path);
    }
    add(path);
  }
}
