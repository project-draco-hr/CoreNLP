{
  CoreMap line=doc.get(index);
  String gold=line.get(source);
  String guess=line.get(target);
  if (gold.equals(background)) {
    return index + 1;
  }
  String entity=gold.substring(2);
  boolean correct=gold.equals(guess);
  ++index;
  while (index < doc.size()) {
    line=doc.get(index);
    gold=line.get(source);
    guess=line.get(target);
    if (!gold.equals("I-" + entity)) {
      if (guess.equals("I-" + entity)) {
        correct=false;
      }
      break;
    }
    if (!gold.equals(guess)) {
      correct=false;
    }
    ++index;
  }
  if (correct) {
    if (positive != null) {
      positive.incrementCount(entity,1.0);
    }
  }
 else {
    negative.incrementCount(entity,1.0);
  }
  return index;
}
