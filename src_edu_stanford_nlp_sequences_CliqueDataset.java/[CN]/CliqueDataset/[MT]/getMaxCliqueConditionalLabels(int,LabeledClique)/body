{
  if (flags.timitDatum && flags.restrictTransitionsTimit) {
    return getTimitMaxCliqueConditionalLabels(datumNum,lc);
  }
  if (cacheMaxCliqueLabels && maxCliqueConditionalLabelsCache.keySet().contains(lc) && datumNum > metaInfo.leftWindow() && datumNum < numDatums() - metaInfo.rightWindow()) {
    return maxCliqueConditionalLabelsCache.get(lc);
  }
  if (lc.clique != metaInfo.getMaxClique()) {
    throw new RuntimeException("This method is only valid for the maximum clique!");
  }
  Clique c=metaInfo.getMaxClique();
  int[] labels=new int[c.size()];
  for (int i=0; i < labels.length; i++) {
    labels[i]=lc.label(i);
  }
  List<LabeledClique> maxLabels=new ArrayList<LabeledClique>();
  int index=c.indexOfRelativeIndex(0);
  for (int i=0; i < possibleLabels[datumNum].length; i++) {
    labels[index]=possibleLabels[datumNum][i];
    maxLabels.add(LabeledClique.valueOf(c,labels));
  }
  metaInfo.retainAllowed(maxLabels);
  if (cacheMaxCliqueLabels && datumNum > metaInfo.leftWindow() && datumNum < numDatums() - metaInfo.rightWindow()) {
    maxCliqueConditionalLabelsCache.put(lc,Collections.unmodifiableList(maxLabels));
  }
  return maxLabels;
}
