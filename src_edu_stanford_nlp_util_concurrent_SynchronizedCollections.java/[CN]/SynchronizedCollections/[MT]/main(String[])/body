{
  final Index<Integer> index=synchronizedIndex(new HashIndex<Integer>());
  for (int j=0; j < 4; ++j) {
    Thread r=new Thread(){
      public void run(){
        Random r=new Random();
        for (int i=0; i < 100000; ++i) {
          int obj=r.nextInt(10000);
          int idx=index.indexOf(obj,true);
          System.err.printf("thread %s got index %d for object %d\n",this,idx,obj);
        }
      }
    }
;
    r.start();
  }
}
