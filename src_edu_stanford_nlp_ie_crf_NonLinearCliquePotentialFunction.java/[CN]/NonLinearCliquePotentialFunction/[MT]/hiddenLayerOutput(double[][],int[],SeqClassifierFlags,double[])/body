{
  int layerOneSize=inputLayerWeights.length;
  double[] layerOne=new double[layerOneSize];
  for (int i=0; i < layerOneSize; i++) {
    double[] ws=inputLayerWeights[i];
    double lOneW=0;
    double dotProd=0;
    for (int m=0; m < nodeCliqueFeatures.length; m++) {
      dotProd=ws[nodeCliqueFeatures[m]];
      if (featureVal != null)       dotProd*=featureVal[m];
      lOneW+=dotProd;
    }
    layerOne[i]=lOneW;
  }
  double[] hiddenLayer=new double[layerOneSize];
  for (int i=0; i < layerOneSize; i++) {
    if (aFlag.useHiddenLayer) {
      if (aFlag.useSigmoid) {
        hiddenLayer[i]=sigmoid(layerOne[i]);
      }
 else {
        hiddenLayer[i]=Math.tanh(layerOne[i]);
      }
    }
 else {
      hiddenLayer[i]=layerOne[i];
    }
  }
  return hiddenLayer;
}
