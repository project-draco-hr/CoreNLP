{
  if (!hasNext) {
    throw new NoSuchElementException();
  }
  StringBuilder sb=new StringBuilder(16000);
  try {
    for (int c; (c=r.read()) >= 0; ) {
      sb.append((char)c);
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  hasNext=false;
  return op.apply(sb.toString());
}
