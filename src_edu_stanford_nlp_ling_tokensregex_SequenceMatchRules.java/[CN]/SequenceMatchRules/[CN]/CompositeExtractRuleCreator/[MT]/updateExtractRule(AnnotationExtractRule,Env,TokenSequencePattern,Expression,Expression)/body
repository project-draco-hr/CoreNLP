{
  MatchedExpression.SingleAnnotationExtractor valueExtractor=createAnnotationExtractor(env,r);
  valueExtractor.valueExtractor=new CoreMapFunctionApplier<List<? extends CoreMap>,Value>(env,r.annotationField,new SequencePatternExtractRule<CoreMap,Value>(pattern,new SequenceMatchResultExtractor<CoreMap>(env,action,result),r.matchFindType,r.matchWithResults));
  r.extractRule=new SequencePatternExtractRule<CoreMap,MatchedExpression>(pattern,new SequenceMatchedExpressionExtractor(valueExtractor,r.matchedExpressionGroup),r.matchFindType,r.matchWithResults);
  r.filterRule=new AnnotationMatchedFilter(valueExtractor);
}
